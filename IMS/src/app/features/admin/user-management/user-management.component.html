<div class="container mt-4">
  <mat-card class="user-card">
    <div class="header">
      <mat-card-title class="title">User Management</mat-card-title>
      <div class="search-container">
        <mat-form-field
          appearance="outline"
          class="search-field"
          subscriptSizing="dynamic"
        >
          <mat-label>Search Users</mat-label>
          <input
            matInput
            [(ngModel)]="searchText"
            (input)="applyFilter($event)"
          />
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </div>
    </div>
 
    <!-- Users Table -->
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      class="mat-elevation-z2 full-width-table"
    >
    <ng-container matColumnDef="sno">
      <th mat-header-cell *matHeaderCellDef> S.No. </th>
      <td mat-cell *matCellDef="let policy; let i = index;"> {{ (dataSource.paginator?.pageIndex || 0) * (dataSource.paginator?.pageSize || 0) + i + 1 }} </td>
    </ng-container>
 
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Username</th>
        <td mat-cell *matCellDef="let user">{{ user.username }}</td>
      </ng-container>
 
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
        <td mat-cell *matCellDef="let user">{{ user.role }}</td>
      </ng-container>
      <ng-container matColumnDef="isDeleted">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Deleted</th>
        <td mat-cell *matCellDef="let user">{{ user.isDeleted }}</td>
      </ng-container>
 
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
 
    <!-- Pagination -->
    <mat-paginator
      [pageSizeOptions]="[5, 10, 15]"
      showFirstLastButtons
    ></mat-paginator>
  </mat-card>
</div>